
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Analyzer - Password Defender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="Wayland.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <div class="stars"></div>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>
  <div class="shooting-star"></div>

  <div class="section">
    <h2>üîç Password Analyzer</h2>
    <input type="text" id="passwordInput" placeholder="Enter your password">
    <button onclick="analyze()">Analyze</button>

    <div class="progress"><div class="bar" id="bar"></div></div>

    <table>
      <tr><th>Parameter</th><th>Value</th></tr>
      <tr><td>Entered Password</td><td id="pwdDisplay">-</td></tr>
      <tr><td>Length</td><td id="lengthVal">-</td></tr>
      <tr><td>Contains Numbers</td><td id="hasNumbers">-</td></tr>
      <tr><td>Contains Symbols</td><td id="hasSymbols">-</td></tr>
      <tr><td>Estimated Strength</td><td id="strength">-</td></tr>
      <tr><td>Estimated Crack Time</td><td id="crackTime">-</td></tr>
    </table>

    <canvas id="passwordChart" style="margin-top: 30px;"></canvas>

    <a href="Forum.html">
      <button style="margin-top: 30px; font-weight: bold; background-color: #2a2f5c">
        üîê Generate Secure Password
      </button>
    </a>
  </div>

  <script>
    function analyze() {
      const pwd = document.getElementById("passwordInput").value;
      const length = pwd.length;
      const hasNumbers = /\d/.test(pwd);
      const hasSymbols = /[!@#$%^&*()]/.test(pwd);
      let score = 0;
      if (length>= 8) score += 1;
      if (hasNumbers) score += 1;
      if (hasSymbols) score += 1;

      const strengthLevels = ["Weak", "Medium", "Good", "Strong"];
      const strength = strengthLevels[score];
      const crackTime = estimateCrackTime(score, length);

      document.getElementById("pwdDisplay").textContent = pwd || "-";
      document.getElementById("lengthVal").textContent = length;
      document.getElementById("hasNumbers").textContent = hasNumbers? "‚úÖ": "‚ùå";
      document.getElementById("hasSymbols").textContent = hasSymbols? "‚úÖ": "‚ùå";
      document.getElementById("strength").textContent = strength;
      document.getElementById("crackTime").textContent = crackTime.label;
      document.getElementById("bar").style.width = (score * 33) + "%";

      renderChart(score, crackTime.value);
}

    function estimateCrackTime(score, length) {
      const base = Math.pow(10, score + length / 4);
      let label = "";
      if (base < 1e3) label = "Instant";
      else if (base < 1e6) label = "Minutes";
      else if (base < 1e9) label = "Hours";
      else if (base < 1e12) label = "Days";
      else label = "Years";

      return { value: base, label};
}

    function renderChart(difficulty, timeValue) {
      const ctx = document.getElementById("passwordChart").getContext("2d");
      if (window.passwordChart) window.passwordChart.destroy();

      window.passwordChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ["Password"],
          datasets: [
            {
              label: "Difficulty",
              data: [difficulty],
              backgroundColor: "#00f260"
},
            {
              label: "Crack Time (log)",
              data: [Math.log10(timeValue)],
              backgroundColor: "#0575e6"
}
          ]
},
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "Difficulty / Time Scale"
}
}
}
}
});
}
  </script>

</body>
</html>
